(window.webpackJsonpwishliste=window.webpackJsonpwishliste||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),r=a.n(s),l=(a(84),a(19)),c=a(15),o=a(23),m=a(24),u=a(25),d=a(6),p=a.n(d),h=(a(31),a(7)),g=a(36),f=a(140),E=a(144),b=a(139),v=a(143),y=a(142),O=a(141),S=a(29),N=a.n(S),C=a(110),w=a(73),D=a(137),L=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),marginTop:e.spacing(10),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),k=function(e,t,a,n,i,s,r,l){n(""),i(""),s("");var c=function(e,t){var a=e.split("@");return""===e?(t("empty"),!1):!(!e.includes("@")||2!==a.length||!a[1].includes("."))||(t("nonEmail"),!1)}(e,n),o=function(e,t,a,n){var i=!0,s=!1,r=!1,l=e.split("");function c(e){return/^[a-zA-Z]$/.test(e)}return""===e&&(a("empty"),i=!1),e.length<8&&(a("unsafe"),i=!1),function(e){for(var t=0;t<l.length;t++)0!=l[t]&&1!=l[t]&&2!=l[t]&&3!=l[t]&&4!=l[t]&&5!=l[t]&&6!=l[t]&&7!=l[t]&&8!=l[t]&&9!=l[t]||(r=!0);return console.log(r),r}()||(a("numeric"),i=!1),/[~`!#$%\^&*+=\-\[\]\\';,\/{}|\\":<>\?]/g.test(e)||a("special"),function(e){for(var t=0;t<l.length;t++)l[t]===l[t].toUpperCase()&&c(l[t])&&(s=!0);return console.log(s),s}()||(a("uppercase"),i=!1),""===t?(n("empty"),!1):t!==e?(n("notMatching"),!1):i}(t,a,i,s);if(c&&o){var m=new URLSearchParams;m.append("username",e),m.append("password",t),p.a.post("/api/addNewAccount.php",m).then((function(t){0===t.data?n("taken"):(l.toggleLogIn(),l.setUsername(e),r.push("/Home"))})).catch((function(e){}))}},j=function(e){var t=L(),a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1],c=Object(n.useState)(""),o=Object(h.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(""),p=Object(h.a)(d,2),S=p[0],w=p[1],j=Object(n.useState)(""),I=Object(h.a)(j,2),P=I[0],F=I[1],x=Object(n.useState)(""),T=Object(h.a)(x,2),M=T[0],U=T[1],_=Object(n.useState)(""),W=Object(h.a)(_,2),B=W[0],z=W[1],A=Object(g.g)();return i.a.createElement(D.a,{component:"main",maxWidth:"xs"},i.a.createElement(b.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(f.a,{className:t.avatar},i.a.createElement(N.a,null)),i.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign up for WishList\xe9!"),i.a.createElement("form",{className:t.form,noValidate:!0},i.a.createElement(O.a,{container:!0,spacing:2},i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address (Username)",name:"email",autoComplete:"email",onChange:function(e){l(e.target.value)},error:""!==P,helperText:"empty"===P?"Username is required":"nonEmail"===P?"Username must be an email address":"taken"===P?"Username is taken":""})),i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)},error:""!==M,helperText:"empty"===M?"Password is required":"unsafe"===M?"Password must be at least 8 characters long":"uppercase"===M?"Password must contain at least 1 upper case character":"numeric"===M?"Password must contain at least 1 numeric character":"special"===M?"Password must contain at least 1 special character":""})),i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm_password",label:"Confirm Password",type:"password",id:"confirm_password",autoComplete:"current-password",onChange:function(e){w(e.target.value)},error:""!==B,helperText:"empty"===B?"Password is required":"notMatching"===B?"Passwords don't match":"unsafe"===B?"Password must be at least 8 characters long":"uppercase"===B?"Password must contain at least 1 upper case character":"numeric"===B?"Password must contain at least 1 numeric character":"special"===B?"Password must contain at least 1 special character":""}))),i.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return k(r,m,S,F,U,z,A,e)}},"Sign Up"),i.a.createElement(O.a,{container:!0,justify:"flex-end"},i.a.createElement(O.a,{item:!0},i.a.createElement(y.a,{href:"#",variant:"body2",onClick:function(){return A.push("/")}},"Already have an account? Sign in"))))))},I=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),marginTop:e.spacing(10),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),P=function(e,t){!function(e,t,a){var n=new Date;n.setTime(n.getTime()+60*a*60*1e3);var i="expires="+n.toUTCString();localStorage.setItem("wishliste",e+"="+t+";"+i+";path=/")}(e,e,3)},F=function(e){var t=I(),a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1],c=Object(n.useState)(""),o=Object(h.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(!1),S=Object(h.a)(d,2),w=S[0],L=S[1],k=Object(g.g)();return i.a.createElement(D.a,{component:"main",maxWidth:"xs"},i.a.createElement(b.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(f.a,{className:t.avatar},i.a.createElement(N.a,null)),i.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in to WishList\xe9"),i.a.createElement("form",{className:t.form,noValidate:!0,id:"myForm"},i.a.createElement(O.a,{container:!0,spacing:2},i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"email",onChange:function(e){l(e.target.value)}})),i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)},error:w,helperText:w?"Incorrect login details. Please check your username/ password and try again.":""}))),i.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(e,t,a,n,i){p.a.get("/api/sign_in.php",{params:{username:e,password:t}}).then((function(s){1===s.data?(P(e,t),a.toggleLogIn(),a.setUsername(e),n.push("/Home")):i(!0)})).catch((function(e){document.getElementById("myForm").reset()}))}(r,m,e,k,L)}},"Sign In"),i.a.createElement(O.a,{container:!0},i.a.createElement(O.a,{item:!0,xs:!0},i.a.createElement(y.a,{variant:"body2",onClick:function(){return k.push("/ForgotPassword")}},"Forgot password?")),i.a.createElement(O.a,{item:!0},i.a.createElement(y.a,{variant:"body2",onClick:function(){return k.push("/SignUp")}},"Don't have an account? Sign up"))))))},x=a(26),T=a(8),M=a(14),U=a(11),_=a(12),W=function(e,t){p.a.get("/api/deleteCookie.php",{params:{username:e.username}}).then((function(a){localStorage.removeItem("wishliste"),e.toggleLogIn(),e.setUsername(""),t.push("/")})).catch((function(e){}))},B=function(e){var t=Object(g.g)();return i.a.createElement("div",{className:"Header-bar"},i.a.createElement("div",{className:"Header-text"},"WishList\xe9"),i.a.createElement("div",{className:"Header-icons"},i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Header-icon-popup"},i.a.createElement(U.a,{icon:_.g,className:"Header-icon fa-lg"})),position:"left top",on:"click",closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},"HomePage"===e.page?i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return t.push("/Friends")}},"Manage Friends"),i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return W(e,t)}},"Logout")):"FriendsPage"===e.page?i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return t.push("/Home")}},"View Lists"),i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return W(e,t)}},"Logout")):e.signedIn?i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return t.push("/Friends")}},"Manage Friends"),i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return t.push("/Home")}},"View Lists"),i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return W(e,t)}},"Logout")):i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("div",{className:"Plain-menu-item",onClick:function(){return t.push("/")}},"Sign in")))))},z=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.listData,n=t.listSelected,s=t.deletingLists,r=t.listsToDelete,l=a.map((function(t){return i.a.createElement("div",{className:s&&r.includes(t)?"List-Name-deleting-selected":s?"List-Name-deleting":t===n?"List-Name-selected":"List-Name",onClick:function(){s?e.props.handleListsToDelete(t):e.props.getList(t)}},t.name)}));return i.a.createElement("div",{className:"List-Names-container"},l)}}]),t}(n.Component),A=function(e){var t,a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1];return e.editingItems?i.a.createElement(M.a,(t={trigger:i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-head":"Full-List-head"},e.listData.name),position:"left top",on:"click",open:e.editMenuOpen===e.listData.name,onOpen:function(){return e.openEditMenu(e.listData.name)},onClose:function(){return e.closeEditMenu()},closeOnDocumentClick:!0},Object(T.a)(t,"closeOnDocumentClick",!0),Object(T.a)(t,"mouseLeaveDelay",300),Object(T.a)(t,"mouseEnterDelay",0),Object(T.a)(t,"contentStyle",{padding:"0px",border:"none"}),Object(T.a)(t,"arrow",!1),t),i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"Edit list name ",i.a.createElement("br",null),i.a.createElement("input",Object(T.a)({type:"text",name:"name",placeholder:"Name",autoFocus:!0,maxLength:"45",defaultValue:e.listData.name,onChange:function(e){l(e.target.value)}},"autoFocus",!0)))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){var t=""===r?e.listData.name:r;e.handleListNameChange(t),e.updateDB(t,"",""),e.closeEditMenu()}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){return e.closeEditMenu()}})))):i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-head":"Full-List-head"},e.listData.name)},q=function(e){return i.a.createElement("li",{className:e.deletingItems?e.itemsToDelete.includes(e.item)?"deleting-checked":"deleting-unchecked":"not-deleting",onClick:function(){("singleList"!==e.currentPage||e.signedIn)&&(e.deletingItems?e.handleItemsToDelete(e.item):e.toggleCheckmark(e.index))}},i.a.createElement("li",{className:1==e.item.checked?"checked":"unchecked"},e.item.name),i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-item-description":"Full-List-item-description"},e.item.description))},H=function(e){var t,a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1],c=Object(n.useState)(""),o=Object(h.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(""),p=Object(h.a)(d,2),g=p[0],f=p[1],E=e.listData.items.map((function(t,a){return e.editingItems?i.a.createElement(M.a,{trigger:i.a.createElement("li",{className:"not-deleting"},i.a.createElement("li",{className:1==t.checked?"checked":"unchecked"},t.name),i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-item-description":"Full-List-item-description"},t.description)),position:"left top",on:"click",open:e.editMenuOpen===t,onOpen:function(){return e.openEditMenu(t)},onClose:function(){return e.closeEditMenu()},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"Edit item ",i.a.createElement("br",null),i.a.createElement("input",Object(T.a)({type:"text",name:"name",placeholder:"Name",autoFocus:!0,maxLength:"45",defaultValue:t.name,onChange:function(e){l(e.target.value)}},"autoFocus",!0)))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",maxLength:"245",placeholder:"Description",defaultValue:t.description,onChange:function(e){u(e.target.value)}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){var n=""===r?t.name:r,i=m;e.handleItemChange(a,n,i),e.updateDB(n,i,t.item_id,l,u),e.closeEditMenu()}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){return e.closeEditMenu()}})))):i.a.createElement(q,{deletingItems:e.deletingItems,handleItemsToDelete:e.handleItemsToDelete,itemsToDelete:e.itemsToDelete,item:t,index:a,toggleCheckmark:e.toggleCheckmark,currentPage:e.currentPage,signedIn:e.signedIn})}));return i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-items":"Full-List-items"},e.editingItems?i.a.createElement(M.a,(t={trigger:i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-list-description":"Full-List-list-description"},e.listData.description," ",i.a.createElement("br",null),e.listData.date&&"surprise"===e.listData.list_type&&e.owner===e.username?"Date set: "+e.listData.date:e.listData.date&&"surprise"===e.listData.list_type?"Date set by "+e.listData.owner+": "+e.listData.date:e.listData.date&&"todo"===e.listData.list_type?"Complete by: "+e.listData.date:""),position:"left top",on:"click",open:e.editMenuOpen===e.listData.description,onOpen:function(){return e.openEditMenu(e.listData.description)},onClose:function(){return e.closeEditMenu()},closeOnDocumentClick:!0},Object(T.a)(t,"closeOnDocumentClick",!0),Object(T.a)(t,"mouseLeaveDelay",300),Object(T.a)(t,"mouseEnterDelay",0),Object(T.a)(t,"contentStyle",{padding:"0px",border:"none"}),Object(T.a)(t,"arrow",!1),t),i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"Edit list description ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",defaultValue:e.listData.description,onChange:function(e){f(e.target.value)},autoFocus:!0}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){var t=""===g?e.listData.description:g;e.handleListDescriptionChange(t),e.updateDB("",t,""),e.closeEditMenu()}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){return e.closeEditMenu()}})))):i.a.createElement("div",{className:"home"===e.currentPage?"Full-List2-list-description":"Full-List-list-description"},e.listData.description," ",i.a.createElement("br",null),e.listData.date&&"surprise"===e.listData.list_type&&e.owner===e.username?"Date set: "+e.listData.date:e.listData.date&&"surprise"===e.listData.list_type?"Date set by "+e.listData.owner+": "+e.listData.date:e.listData.date&&"todo"===e.listData.list_type?"Complete by: "+e.listData.date:""),i.a.createElement("ul",null,E))},R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={editMenuOpen:{}},a.openEditMenu=function(e){a.setState({editMenuOpen:e})},a.closeEditMenu=function(){a.setState({editMenuOpen:{}})},a.updateDB=function(e,t,n,i,s){var r=new URLSearchParams;""!==e&&""===t&&""===n?(r.append("list_id",a.props.listData.list_id),r.append("name",e),p.a.post("/api/updateListName.php",r).then((function(e){a.props.toggleDBChange()})).catch((function(e){}))):""===e&&""!==t&&""===n?(r.append("list_id",a.props.listData.list_id),r.append("description",t),p.a.post("/api/updateListDescription.php",r).then((function(e){a.props.toggleDBChange()})).catch((function(e){}))):(r.append("item_id",n),r.append("name",e),r.append("description",t),p.a.post("/api/updateItem.php",r).then((function(e){a.props.toggleDBChange(),i(""),s("")})).catch((function(e){})))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.listData,a=e.deletingItems,n=e.handleItemsToDelete,s=e.itemsToDelete,r=e.editingItems,l=e.handleListNameChange,c=e.handleListDescriptionChange,o=e.handleItemChange,m=e.toggleCheckmark,u=e.currentPage,d=e.signedIn;return t?i.a.createElement("div",{className:"home"===u?"Full-List2-container":"Full-List-container"},i.a.createElement(A,{listData:t,editingItems:r,editMenuOpen:this.state.editMenuOpen,openEditMenu:this.openEditMenu,closeEditMenu:this.closeEditMenu,updateDB:this.updateDB,handleListNameChange:l,currentPage:u}),i.a.createElement(H,{listData:t,deletingItems:a,handleItemsToDelete:n,itemsToDelete:s,editingItems:r,editMenuOpen:this.state.editMenuOpen,openEditMenu:this.openEditMenu,closeEditMenu:this.closeEditMenu,updateDB:this.updateDB,handleItemChange:o,handleListDescriptionChange:c,toggleCheckmark:m,currentPage:u,signedIn:d})):i.a.createElement("div",null,i.a.createElement("hr",null))}}]),t}(n.Component),V=function(e){var t=e.friends.map((function(t){return i.a.createElement("li",{className:e.friendsSelected.includes(t)?"friend-checked":"friend-unchecked",onClick:function(){return e.handleFriendsSelected(t)}},t.username)}));return i.a.createElement("ul",{className:"List-menu-item"},t)};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={results:[],list:{},itemsToDelete:[],newItemOpen:!1,newItemName:"",newItemDescription:"",newListName:"",newListDescription:"",newListDate:"",url:"",owner:a.props.username,typeOfList:0,type:"",dbChange:!1,newWishlistOpen:!1,newSWishlistOpen:!1,newTodoListOpen:!1,deletingItems:!1,editingItems:!1,deletingLists:!1,listsToDelete:[],nameError:!1,listSharingOpen:!1,surpriseSharingOpen:!1,friends:[],friendsSelected:[]},a.addList=function(){a.state.newListName?(p.a.get("/api/addNewList.php",{params:{name:a.state.newListName,description:a.state.newListDescription,url:a.state.url,owner:a.state.owner,type:a.state.type,expiration_date:a.state.newListDate,date:a.state.newListDate,username:a.props.username,listType:a.state.typeOfList}}).then((function(e){e.data&&(a.toggleDBChange(),a.setState({newListName:""}),a.setState({newListDescription:""}),a.setState({newListDate:""}))})).catch((function(e){})),a.setState({newWishlistOpen:!1}),a.setState({newSWishlistOpen:!1}),a.setState({newTodoListOpen:!1}),a.setState({nameError:!1})):a.setState({nameError:!0})},a.addItem=function(){a.state.newItemName?(p.a.get("/api/addItemToTable.php",{params:{name:a.state.newItemName,description:a.state.newItemDescription,checked:0,list_id:a.state.list.list_id}}).then((function(e){e.data&&(a.toggleDBChange(),a.updateList(),a.setState({newItemName:""}),a.setState({newItemDescription:""}))})).catch((function(e){})),a.setState({newItemOpen:!1}),a.setState({nameError:!1})):a.setState({nameError:!0})},a.deleteItems=function(){p()({url:"/api/deleteItemsFromTable.php",method:"post",data:a.state.itemsToDelete}).then((function(e){a.setState({itemsToDelete:[]}),a.toggleDBChange(),a.updateList()})).catch((function(e){})),a.setState({deletingItems:!1})},a.deleteLists=function(){p()({url:"/api/deleteLists.php",method:"post",data:a.state.listsToDelete}).then((function(e){a.setState({listsToDelete:[]}),a.toggleDBChange()})).catch((function(e){})),a.setState({deletingLists:!1})},a.updateList=function(){p.a.get("/api/getListItems.php",{params:{list_id:a.state.list.list_id}}).then((function(e){a.setState({list:G({},a.state.list,{items:e.data})})})).catch((function(e){}))},a.sendSupriseList=function(){a.setState({list:G({},a.state.list,{type:0})},(function(){p()({url:"/api/sendSurpriseList.php",method:"post",data:{list:a.state.list,selected_friends:a.state.friendsSelected}}).then((function(e){a.toggleDBChange()})).catch((function(e){}))}))},a.handleGetList=function(e){var t=e;a.setState({list:t}),a.setState({newItemOpen:!1}),a.setState({deletingItems:!1}),a.setState({itemsToDelete:[]}),a.setState({editingItems:!1}),a.setState({listSharingOpen:!1}),a.setState({surpriseSharingOpen:!1})},a.handleItemsToDelete=function(e){if(a.state.itemsToDelete.includes(e)){var t=a.state.itemsToDelete.filter((function(t){return t.item_id!==e.item_id}));a.setState({itemsToDelete:t})}else a.setState({itemsToDelete:[].concat(Object(x.a)(a.state.itemsToDelete),[e])})},a.handleListsToDelete=function(e){if(a.state.listsToDelete.includes(e)){var t=a.state.listsToDelete.filter((function(t){return t.list_id!==e.list_id}));a.setState({listsToDelete:t})}else a.setState({listsToDelete:[].concat(Object(x.a)(a.state.listsToDelete),[e])})},a.handleListNameChange=function(e){a.setState({list:G({},a.state.list,{name:e})})},a.handleListDescriptionChange=function(e){a.setState({list:G({},a.state.list,{description:e})})},a.handleItemChange=function(e,t,n){var i=a.state.list.items;i[e].name=t,i[e].description=n,a.setState({list:G({},a.state.list,{items:i})})},a.toggleDBChange=function(){a.setState((function(e){return{dbChange:!e.dbChange}}))},a.toggleCheckmark=function(e){var t=a.state.list.items;if(t[e].checked=1==t[e].checked?0:1,"surprise"===a.state.list.list_type&&"1"===a.state.list.type)if(1===t[e].checked){var n=" -checked by ".concat(a.props.username),i=t[e].description.concat(n);t[e].description=i}else{var s=t[e].description.indexOf(" -checked by"),r=t[e].description.slice(0,s);t[e].description=r}a.setState({list:G({},a.state.list,{items:t})},(function(){var n=new URLSearchParams;n.append("checkmark",t[e].checked),n.append("item_id",t[e].item_id),n.append("description",t[e].description),n.append("list_type",a.state.list.type),p.a.post("/api/updateItemCheckmark.php",n).then((function(e){})).catch((function(e){}))}))},a.handleFriendsSelected=function(e){if(a.state.friendsSelected.includes(e)){var t=a.state.friendsSelected.filter((function(t){return t.username!==e.username}));a.setState({friendsSelected:t})}else a.setState({friendsSelected:[].concat(Object(x.a)(a.state.friendsSelected),[e])})},a.generateUrl=function(){var e=new URLSearchParams;e.append("list_id",a.state.list.list_id),p.a.post("/api/updateUrl.php",e).then((function(e){a.toggleDBChange(),a.setState({list:G({},a.state.list,{url:e.data})})})).catch((function(e){}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams;t.append("username",this.props.username),p.a.post("/api/getListswithItems.php",t).then((function(t){t.data instanceof Array&&e.setState({results:t.data})})).catch((function(e){})),p.a.post("/api/getFriends.php",t).then((function(t){t.data instanceof Array&&e.setState({friends:t.data})})).catch((function(e){}))}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.dbChange){var t=new URLSearchParams;t.append("username",this.props.username),p.a.post("/api/getListswithItems.php",t).then((function(t){t.data instanceof Array&&e.setState({results:t.data})})).catch((function(e){})),this.toggleDBChange()}}},{key:"render",value:function(){var e=this;return this.state.results?i.a.createElement("div",{className:"App"},i.a.createElement(B,{page:"HomePage",toggleLogIn:this.props.toggleLogIn,setUsername:this.props.setUsername,username:this.props.username}),i.a.createElement("div",{className:"New-button-container-container"},this.state.deletingLists?i.a.createElement("div",{className:"New-button-container-thin"},i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:this.deleteLists},i.a.createElement(U.a,{icon:_.f,size:"s"})),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:function(){return e.setState({deletingLists:!1})}},i.a.createElement(U.a,{icon:_.e,size:"s"}))):i.a.createElement("div",{className:"New-button-container-thin"},i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.c,size:"s"})),position:"right top",on:"click",closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Plain-menu-item"},"New Wishlist"),position:"right top",on:"click",open:this.state.newWishlistOpen,onOpen:function(){return e.setState({newWishlistOpen:!0})},onClose:function(){e.setState({newWishlistOpen:!1}),e.setState({nameError:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:this.state.nameError?"Name (required)":"Name",className:this.state.nameError?"input-error":"",onChange:function(t){e.setState({newListName:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",onChange:function(t){e.setState({newListDescription:t.target.value})}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){e.setState({typeOfList:0},(function(){e.addList()}))}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){e.setState({newWishlistOpen:!1}),e.setState({nameError:!1})}})))),i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Plain-menu-item"},"New Surprise Wishlist"),position:"right top",on:"click",open:this.state.newSWishlistOpen,onOpen:function(){return e.setState({newSWishlistOpen:!0})},onClose:function(){e.setState({newSWishlistOpen:!1}),e.setState({nameError:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:this.state.nameError?"Name (required)":"Name",className:this.state.nameError?"input-error":"",onChange:function(t){e.setState({newListName:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",onChange:function(t){e.setState({newListDescription:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"date",name:"date",onChange:function(t){e.setState({newListDate:t.target.value},(function(){}))}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){e.setState({typeOfList:1},(function(){e.addList()}))}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){e.setState({newSWishlistOpen:!1}),e.setState({nameError:!1})}})))),i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Plain-menu-item"},"New To-do List"),position:"right top",on:"click",open:this.state.newTodoListOpen,onOpen:function(){return e.setState({newTodoListOpen:!0})},onClose:function(){e.setState({newTodoListOpen:!1}),e.setState({nameError:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:this.state.nameError?"Name (required)":"Name",className:this.state.nameError?"input-error":"",onChange:function(t){e.setState({newListName:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",onChange:function(t){e.setState({newListDescription:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"date",name:"date",onChange:function(t){e.setState({newListDate:t.target.value},(function(){}))}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){e.setState({typeOfList:2},(function(){e.addList()}))}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){e.setState({newTodoListOpen:!1}),e.setState({nameError:!1})}})))))),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color",onClick:function(){return e.setState({deletingLists:!0})}},i.a.createElement(U.a,{icon:_.f,size:"s"}))),0===Object.entries(this.state.list).length?"":"1"===this.state.list.type&&this.props.username!==this.state.list.owner?"":this.state.deletingItems?i.a.createElement("div",{className:"New-button-container-thin"},i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:this.deleteItems},i.a.createElement(U.a,{icon:_.f,size:"s"})),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:function(){return e.setState({deletingItems:!1})}},i.a.createElement(U.a,{icon:_.e,size:"s"}))):i.a.createElement("div",{className:"New-button-container-thin"},i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.c,size:"s"})),position:"right top",on:"click",open:this.state.newItemOpen,onOpen:function(){return e.setState({newItemOpen:!0})},onClose:function(){e.setState({newItemOpen:!1}),e.setState({nameError:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"New item ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:this.state.nameError?"Name (required)":"Name",className:this.state.nameError?"input-error":"",onChange:function(t){e.setState({newItemName:t.target.value})}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",onChange:function(t){e.setState({newItemDescription:t.target.value})}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:this.addItem}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){e.setState({newItemOpen:!1}),e.setState({nameError:!1})}})))),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color",onClick:function(){e.setState({deletingItems:!0}),e.setState({editingItems:!1})}},i.a.createElement(U.a,{icon:_.f,size:"s"})),i.a.createElement("div",{className:this.state.editingItems?"Fa-icon-style Fa-icon-selected-color":"Fa-icon-style Fa-icon-color",onClick:function(){e.state.editingItems?e.setState({editingItems:!1}):e.setState({editingItems:!0})}},i.a.createElement(U.a,{icon:_.b,size:"s"})),"wish"===this.state.list.list_type?i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.d,size:"s"})),position:"right top",on:"click",open:this.state.listSharingOpen,onOpen:function(){return e.setState({listSharingOpen:!0})},onClose:function(){return e.setState({listSharingOpen:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},this.state.list.url?i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("label",{className:"Label-menu-item"},"Shareable URL is: ",i.a.createElement("br",null),this.state.list.url)):i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("label",{className:"Label-menu-item"},"Generate shareable URL for this list?"),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:this.generateUrl}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){return e.setState({listSharingOpen:!1})}})))):"surprise"!==this.state.list.list_type||this.state.list.type?"surprise"===this.state.list.list_type&&"0"===this.state.list.type?i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.d,size:"s"})),position:"right top",on:"click",open:this.state.surpriseSharingOpen,onOpen:function(){return e.setState({surpriseSharingOpen:!0})},onClose:function(){return e.setState({surpriseSharingOpen:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("label",{className:"Label-menu-item"},"'",this.state.list.name,"' has been shared! ",i.a.createElement("br",null),"Any further changes made to the list won't be seen by the collaborators"))):"":i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.d,size:"s"})),position:"left top",on:"click",open:this.state.surpriseSharingOpen,onOpen:function(){return e.setState({surpriseSharingOpen:!0})},onClose:function(){return e.setState({surpriseSharingOpen:!1})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none",width:"400px"},arrow:!1},i.a.createElement("div",{className:"Wide-menu"},i.a.createElement("label",{className:"Label-menu-item"},"Select collaborators for '",this.state.list.name,"'"),i.a.createElement(V,{friends:this.state.friends,friendsSelected:this.state.friendsSelected,handleFriendsSelected:this.handleFriendsSelected}),i.a.createElement("label",{className:"Label-menu-item"},"Note: you can't make any changes to the list once it's sent to collaborators"),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Send",onClick:function(){e.sendSupriseList(),e.setState({surpriseSharingOpen:!1})}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){return e.setState({surpriseSharingOpen:!1})}})))))),i.a.createElement("div",{className:"New-Homepage-Layout"},i.a.createElement(z,{listData:this.state.results,getList:this.handleGetList,listSelected:this.state.list,deletingLists:this.state.deletingLists,listsToDelete:this.state.listsToDelete,handleListsToDelete:this.handleListsToDelete}),0!==Object.entries(this.state.list).length?i.a.createElement(R,{listData:this.state.list,deletingItems:this.state.deletingItems,handleItemsToDelete:this.handleItemsToDelete,itemsToDelete:this.state.itemsToDelete,editingItems:this.state.editingItems,handleListNameChange:this.handleListNameChange,handleListDescriptionChange:this.handleListDescriptionChange,handleItemChange:this.handleItemChange,toggleDBChange:this.toggleDBChange,toggleCheckmark:this.toggleCheckmark,currentPage:"home",username:this.props.username}):"")):i.a.createElement("div",null,i.a.createElement("hr",null))}}]),t}(n.Component);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),s=a[0],r=a[1],l=Object(n.useState)([]),c=Object(h.a)(l,2),o=c[0],m=c[1],u=Object(n.useState)(!1),d=Object(h.a)(u,2),f=d[0],E=d[1],b=Object(n.useState)(""),v=Object(h.a)(b,2),y=v[0],O=v[1],S=Object(n.useState)(""),N=Object(h.a)(S,2),C=N[0],w=N[1],D=Object(n.useState)(!1),L=Object(h.a)(D,2),k=L[0],j=L[1],I=Object(n.useState)(!1),P=Object(h.a)(I,2),F=P[0],T=P[1],W=Object(n.useState)(!1),z=Object(h.a)(W,2),A=z[0],q=z[1],H=Object(n.useState)(!1),V=Object(h.a)(H,2),$=V[0],G=V[1],J=Object(n.useState)(""),Z=Object(h.a)(J,2),K=Z[0],Q=Z[1],X=Object(g.g)(),ee=Object(g.h)().id;Object(n.useEffect)((function(){p.a.get("/api/getItems.php",{params:{list_id:ee}}).then((function(e){e.data instanceof Object?r(e.data):Q(e.data)})).catch((function(e){}))}),[]);var te=function(){p.a.get("/api/getListItems.php",{params:{list_id:s.list_id}}).then((function(e){r(Y({},s,{items:e.data}))})).catch((function(e){}))},ae=function(){j(!k)};return s?i.a.createElement("div",{className:"App"},i.a.createElement(B,{page:"ItemDescriptionPage",signedIn:e.loggedIn,toggleLogIn:e.toggleLogIn,setUsername:e.setUsername,username:e.username}),""!==K?i.a.createElement("div",{className:"List-Unaccessable-Error"},"Error: ",K):e.loggedIn?F?i.a.createElement("div",{className:"Centered-button-container"},i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:function(){return p()({url:"/api/deleteItemsFromTable.php",method:"post",data:o}).then((function(e){m([]),ae(),te()})).catch((function(e){})),void T(!1)}},i.a.createElement(U.a,{icon:_.f,size:"s"})),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-deleting-color",onClick:function(){return T(!1)}},i.a.createElement(U.a,{icon:_.e,size:"s"}))):i.a.createElement("div",{className:"Centered-button-container"},i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color",onClick:function(){X.push("/Home")}},i.a.createElement(U.a,{icon:_.a,size:"s"})),i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.c,size:"s"})),position:"right top",on:"click",open:f,onOpen:function(){return E(!0)},onClose:function(){E(!1),G(!1)},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"New item ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:$?"Name (required)":"Name",className:$?"input-error":"",onChange:function(e){O(e.target.value)}}))),i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"text",name:"description",placeholder:"Description",maxLength:"245",onChange:function(e){w(e.target.value)}}))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:function(){y?(p.a.get("/api/addItemToTable.php",{params:{name:y,description:C,checked:0,list_id:s.list_id}}).then((function(e){e.data&&(ae(),te())})).catch((function(e){})),E(!1),G(!1)):G(!0)}}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){E(!1),G(!1)}})))),i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color",onClick:function(){T(!0),q(!1)}},i.a.createElement(U.a,{icon:_.f,size:"s"})),i.a.createElement("div",{className:A?"Fa-icon-style Fa-icon-selected-color":"Fa-icon-style Fa-icon-color",onClick:function(){q(!A)}},i.a.createElement(U.a,{icon:_.b,size:"s"}))):"",i.a.createElement("div",{className:"New-Homepage-Layout"},""===K&&s&&s.items?i.a.createElement(R,{listData:s,deletingItems:F,handleItemsToDelete:function(e){if(o.includes(e)){var t=o.filter((function(t){return t.item_id!==e.item_id}));m(t)}else m([].concat(Object(x.a)(o),[e]))},itemsToDelete:o,editingItems:A,handleListNameChange:function(e){r(Y({},s,{name:e}))},handleListDescriptionChange:function(e){r(Y({},s,{description:e}))},handleItemChange:function(e,t,a){var n=s.items;n[e].name=t,n[e].description=a,r(Y({},s,{items:n}))},toggleDBChange:ae,toggleCheckmark:function(e){var t=s.items;t[e].checked=1==t[e].checked?0:1,r(Y({},s,{items:t}));var a=new URLSearchParams;a.append("checkmark",t[e].checked),a.append("item_id",t[e].item_id),p.a.post("/api/updateItemCheckmark.php",a).then((function(e){})).catch((function(e){}))},currentPage:"singleList",signedIn:e.loggedIn}):"")):i.a.createElement("div",null,i.a.createElement("h1",null,"Empty List"))},Q=function(){return i.a.createElement("div",{className:"Full-List-head"},"Your Friends")},X=function(e){var t=e.friends.map((function(e){return i.a.createElement("li",null,e.username)}));return i.a.createElement("div",{className:"Full-List-items"},i.a.createElement("ul",null,t))},ee=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.friends;return i.a.createElement("div",{className:"Full-List-container"},i.a.createElement(Q,null),i.a.createElement(X,{friends:e}))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={friends:[],friend:"",addingFriend:!1,friendError:""},a.addFriend=function(){var e=!0;a.state.friends.map((function(t){t.username===a.state.friend&&(a.setState({friendError:"alreadyAdded"}),e=!1)})),a.state.friend===a.props.username?a.setState({friendError:"yourself"}):e&&p.a.get("/api/addFriend.php",{params:{username:a.props.username,friend:a.state.friend}}).then((function(e){if(e.data)a.setState({friendError:"doesntExist"});else{var t=a.state.friends,n={username:a.state.friend};t.push(n),a.setState({friends:t}),a.setState({addingFriend:!1}),a.setState({friendError:""})}})).catch((function(e){}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams;t.append("username",this.props.username),p.a.post("/api/getFriends.php",t).then((function(t){t.data instanceof Array&&e.setState({friends:t.data})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(B,{page:"FriendsPage",toggleLogIn:this.props.toggleLogIn,setUsername:this.props.setUsername,username:this.props.username}),i.a.createElement("div",{className:"Centered-button-container"},i.a.createElement(M.a,{trigger:i.a.createElement("div",{className:"Fa-icon-style Fa-icon-color"},i.a.createElement(U.a,{icon:_.c,size:"s"})),position:"right top",on:"click",open:this.state.addingFriend,onOpen:function(){return e.setState({addingFriend:!0})},onClose:function(){e.setState({addingFriend:!1}),e.setState({friendError:""})},closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},i.a.createElement("div",{className:"Plain-menu"},i.a.createElement("form",{className:"Label-menu-item"},i.a.createElement("label",null,"Add friend ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"name",autoFocus:!0,maxLength:"45",placeholder:"Username",className:""!==this.state.friendError?"input-error":"",onChange:function(t){e.setState({friend:t.target.value},(function(){}))}})),i.a.createElement("label",{className:"bottom-text-error"},i.a.createElement("br",null),"alreadyAdded"===this.state.friendError?"User is already your friend":"yourself"===this.state.friendError?"Can't add yourself...":"doesntExist"===this.state.friendError?"User does not exist. Try again":""))),i.a.createElement("div",{className:"Menu-button-container"},i.a.createElement("input",{className:"Menu-button",type:"button",value:"Confirm",onClick:this.addFriend}),i.a.createElement("input",{className:"Menu-button",type:"button",value:"Cancel",onClick:function(){e.setState({addingFriend:!1}),e.setState({friendError:""})}})))),i.a.createElement(ee,{friends:this.state.friends}))}}]),t}(n.Component),ae=a(22),ne=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),marginTop:e.spacing(10),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ie=function(){var e=ne(),t=Object(g.g)(),a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1],c=Object(n.useState)(!1),o=Object(h.a)(c,2),m=o[0],u=o[1];return i.a.createElement(D.a,{component:"main",maxWidth:"xs"},i.a.createElement(b.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(f.a,{className:e.avatar},i.a.createElement(N.a,null)),i.a.createElement(C.a,{component:"h1",variant:"h5"},"Forgot Password"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(O.a,{container:!0,spacing:2},i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"email",onChange:function(e){l(e.target.value)},error:m,helperText:m?"Username doesn't exist":""}))),i.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){p.a.get("/api/forgotPassword.php",{params:{username:r}}).then((function(e){1===e.data?t.push("/EmailSent"):u(!0)})).catch((function(e){}))}},"Continue"),i.a.createElement(O.a,{container:!0,justify:"flex-end"},i.a.createElement(O.a,{item:!0},i.a.createElement(y.a,{variant:"body2",onClick:function(){return t.push("/")}},"Didn't mean to come here?"))))))},se=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)}}})),re=function(){var e=se(),t=Object(g.g)();return i.a.createElement(D.a,{component:"main",maxWidth:"xs"},i.a.createElement(b.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(f.a,{className:e.avatar},i.a.createElement(N.a,null)),i.a.createElement(C.a,{component:"h1",variant:"h5"},"Forgot Password"),i.a.createElement(C.a,{component:"h1",variant:"subtitle1"},"Email sent! Check your inbox for a link to reset your password"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){t.push("/ResetPassword")}},"Reset password"))))},le=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),marginTop:e.spacing(10),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ce=function(e,t,a,n,i,s){if(function(e,t,a,n){var i=!0,s=!1,r=!1,l=e.split("");function c(e){return/^[a-zA-Z]$/.test(e)}return""===e&&(a("empty"),i=!1),e.length<8&&(a("unsafe"),i=!1),function(e){for(var t=0;t<l.length;t++)0!=l[t]&&1!=l[t]&&2!=l[t]&&3!=l[t]&&4!=l[t]&&5!=l[t]&&6!=l[t]&&7!=l[t]&&8!=l[t]&&9!=l[t]||(r=!0);return console.log(r),r}()||(a("numeric"),i=!1),/[~`!#$%\^&*+=\-\[\]\\';,\/{}|\\":<>\?]/g.test(e)||a("special"),function(e){for(var t=0;t<l.length;t++)l[t]===l[t].toUpperCase()&&c(l[t])&&(s=!0);return console.log(s),s}()||(a("uppercase"),i=!1),""===t?(n("empty"),!1):t!==e?(n("notMatching"),!1):i}(e,t,n,i)){console.log("reset password to "+e);var r=new URLSearchParams;r.append("password",e),r.append("code",a),p.a.post("/api/resetPassword.php",r).then((function(e){e.data?console.log(e.data):s.push("/")})).catch((function(e){console.log(e)}))}},oe=function(){var e=Object(g.g)(),t=le(),a=Object(n.useState)(""),s=Object(h.a)(a,2),r=s[0],l=s[1],c=Object(n.useState)(""),o=Object(h.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(""),p=Object(h.a)(d,2),y=p[0],S=p[1],w=Object(n.useState)(""),L=Object(h.a)(w,2),k=L[0],j=L[1],I=Object(n.useState)(""),P=Object(h.a)(I,2),F=P[0],x=P[1];return i.a.createElement(D.a,{component:"main",maxWidth:"xs"},i.a.createElement(b.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(f.a,{className:t.avatar},i.a.createElement(N.a,null)),i.a.createElement(C.a,{component:"h1",variant:"h5"},"Reset Password"),i.a.createElement("form",{className:t.form,noValidate:!0},i.a.createElement(O.a,{container:!0,spacing:2},i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"code",label:"Code",type:"name",id:"code",onChange:function(e){l(e.target.value),console.log(r)}})),i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value),console.log(m)},error:""!==k,helperText:"empty"===k?"Password is required":"unsafe"===k?"Password must be at least 8 characters long":"uppercase"===k?"Password must contain at least 1 upper case character":"numeric"===k?"Password must contain at least 1 numeric character":"special"===k?"Password must contain at least 1 special character":""})),i.a.createElement(O.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm_password",label:"Confirm Password",type:"password",id:"confirm_password",autoComplete:"current-password",onChange:function(e){S(e.target.value),console.log(y)},error:""!==F,helperText:"empty"===F?"Password is required":"notMatching"===F?"Passwords don't match":"unsafe"===F?"Password must be at least 8 characters long":"uppercase"===F?"Password must contain at least 1 upper case character":"numeric"===F?"Password must contain at least 1 numeric character":"special"===F?"Password must contain at least 1 special character":""}))),i.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return ce(m,y,r,j,x,e)}},"Set new password"))))},me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={username:"",loggedIn:!1},a.setUsername=function(e){a.setState({username:e})},a.toggleLogIn=function(){a.setState((function(e){return{loggedIn:!e.loggedIn}}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/getCookie.php").then((function(t){t.data&&(e.setState({username:t.data}),e.setState({loggedIn:!0}))})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return i.a.createElement(ae.a,null,i.a.createElement("div",null,i.a.createElement(g.d,null,i.a.createElement("div",null,i.a.createElement(g.b,{path:"/Home",render:function(){return e.state.loggedIn?i.a.createElement(J,{username:e.state.username,setUsername:e.setUsername,toggleLogIn:e.toggleLogIn}):i.a.createElement(g.a,{to:"/"})}}),i.a.createElement(g.b,{path:"/SignUp",render:function(){return i.a.createElement(j,{setUsername:e.setUsername,toggleLogIn:e.toggleLogIn})}}),i.a.createElement(g.b,{exact:!0,path:"/",render:function(){return i.a.createElement(F,{setUsername:e.setUsername,toggleLogIn:e.toggleLogIn})}}),i.a.createElement(g.b,{path:"/ForgotPassword",component:ie}),i.a.createElement(g.b,{path:"/EmailSent",component:re}),i.a.createElement(g.b,{path:"/ResetPassword",component:oe}),i.a.createElement(g.b,{path:"/List/:id",render:function(){return i.a.createElement(K,{setUsername:e.setUsername,toggleLogIn:e.toggleLogIn,loggedIn:e.state.loggedIn,username:e.state.username})}}),i.a.createElement(g.b,{path:"/Friends",render:function(){return e.state.loggedIn?i.a.createElement(te,{setUsername:e.setUsername,toggleLogIn:e.toggleLogIn,username:e.state.username}):i.a.createElement(g.a,{to:"/"})}})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(ae.a,null,i.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,a){},79:function(e,t,a){e.exports=a(109)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.d3aff734.chunk.js.map